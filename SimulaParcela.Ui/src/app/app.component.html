
<mat-card  style="margin: 10px;">
  <mat-card-header  color="primary" >
    <mat-card-title>
        <h6>{{title}}</h6>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form method="post" (ngSubmit)="onSubmit()" [formGroup]="form">
      <div class="row">
       
        <div class="col-xl-2 col-sm-2 col-md-2">
            <mat-form-field style="width:90%;">
              <input matInput type="date" placeholder="Data da compra" id="dataDaCompra" 
                                          name="dataDaCompra" formControlName="dataDaCompra" matNativeControl required/>
              <!-- <input matInput [matDatepicker]="dataDaCompra" type="text" placeholder="Data da compra" id="dataDaCompra" 
                                         name="dataDaCompra" formControlName="dataDaCompra" matNativeControl required/>
              <mat-datepicker-toggle matSuffix [for]="dataDaCompra"></mat-datepicker-toggle>
              <mat-datepicker #dataDaCompra></mat-datepicker> -->
              <!-- <mat-error class="mdl-textfield__error" *ngIf="dataEntrega.errors">
                <div *ngIf="dataEntrega.errors.required"> Data Entrega é obrigatório.</div>
              </mat-error> -->
          </mat-form-field>
        </div>
      
        <div class="col-xl-2 col-sm-2 col-md-2">
          <mat-form-field style="width:90%;">
            <input matInput type="text" placeholder="Valor Total da Compra" name="valorTotalCompra" 
                   id="valorTotalCompra" formControlName="valorTotalCompra" />
          </mat-form-field>
        </div>

        <div class="col-xl-2 col-sm-2 col-md-2">
          <mat-form-field style="width:90%;">
            <input matInput type="number" placeholder="Valor do Juros em %" name="valorJuros" 
                   id="valorJuros" formControlName="valorJuros" />
          </mat-form-field>
        </div>

        <div class="col-xl-2 col-sm-2 col-md-2">
          <mat-form-field style="width:90%;">
            <input matInput type="number" placeholder="Quantidade de Parcelas" name="quantidadeDeParcela"
                   id="quantidadeDeParcela" formControlName="quantidadeDeParcela" />
          </mat-form-field>
        </div>

        <div class="col-xl-2 col-sm-2 col-md-2 my-1">
            <button mat-raised-button  color="primary" type="submit" style="vertical-align:top" [disabled]="form.invalid">
                    Simular
            </button>
            <button mat-raised-button type="button" style="vertical-align:top" (click)="getAll()">
                Pesquiar
            </button>
        </div>
      </div>
    </form>
    
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 75%" *ngIf="dataSource!==null">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Código </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="quantidadeDeParcela">
        <th mat-header-cell *matHeaderCellDef> Quantidade de Parcela </th>
        <td mat-cell *matCellDef="let element"> {{element.quantidadeDeParcela}} </td>
      </ng-container>


      <ng-container matColumnDef="dataDaCompra">
        <th mat-header-cell *matHeaderCellDef> Data da Compra </th>
        <td mat-cell *matCellDef="let element"> {{element.dataDaCompra  | date: 'dd/MM/yyyy' }} </td>
      </ng-container>

      <ng-container matColumnDef="valorJuros">
        <th mat-header-cell *matHeaderCellDef> Valor do Juros % </th>
        <td mat-cell *matCellDef="let element"> {{element.valorJuros }} </td>
      </ng-container>

      <ng-container matColumnDef="valorTotalCompra">
        <th mat-header-cell *matHeaderCellDef> Valor do Total da Compra </th>
        <td mat-cell *matCellDef="let element"> {{element.valorTotalCompra | currency:'BRL'}} </td>
      </ng-container>

      <ng-container matColumnDef="valorTotalAPagar">
        <th mat-header-cell *matHeaderCellDef> Valor Total </th>
        <td mat-cell *matCellDef="let element"> {{element.valorTotalAPagar | currency:'BRL'}} </td>
      </ng-container>
      <ng-container matColumnDef="acao">
        <th mat-header-cell *matHeaderCellDef> Valor Total </th>
        <td mat-cell *matCellDef="let element"> Teste </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    </mat-card-content>
</mat-card>

